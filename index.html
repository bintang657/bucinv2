<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untuk Keyren üíô</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Playfair+Display:ital,wght@1,600&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: { maroon: '#800000', 'maroon-light': '#a52a2a', 'blue-dark': '#0b1121', 'blue-accent': '#38bdf8' },
                    fontFamily: { sans: ['Poppins', 'sans-serif'], serif: ['Playfair Display', 'serif'] }
                }
            }
        }
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.8.1/vanilla-tilt.min.js"></script>

    <style>
        body { margin: 0; overflow-x: hidden; background-color: #0b1121; cursor: none; }
        
        #canvas-container { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: -2; background: radial-gradient(circle at center, #1e3a5f 0%, #0b1121 100%); }

        /* Custom Cursor */
        .cursor-dot, .cursor-outline { position: fixed; top: 0; left: 0; transform: translate(-50%, -50%); border-radius: 50%; z-index: 9999; pointer-events: none; }
        .cursor-dot { width: 8px; height: 8px; background-color: #38bdf8; box-shadow: 0 0 10px #38bdf8; }
        .cursor-outline { width: 30px; height: 30px; border: 2px solid rgba(128, 0, 0, 0.5); transition: width 0.2s, height 0.2s, background-color 0.2s; }

        /* Hati Melayang */
        .hearts-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; overflow: hidden; }
        .heart { position: absolute; bottom: -100px; background-color: rgba(165, 42, 42, 0.4); width: 20px; height: 20px; transform: rotate(-45deg); animation: floatUp 10s infinite ease-in; filter: drop-shadow(0 0 5px rgba(165,42,42,0.5)); }
        .heart::before, .heart::after { content: ''; position: absolute; width: 20px; height: 20px; background-color: inherit; border-radius: 50%; }
        .heart::before { top: -10px; left: 0; }
        .heart::after { left: 10px; top: 0; }
        @keyframes floatUp { 0% { transform: translateY(0) rotate(-45deg) scale(0.5); opacity: 0; } 50% { opacity: 1; } 100% { transform: translateY(-120vh) rotate(-45deg) scale(1.5); opacity: 0; } }

        /* Efek Teks Bercahaya (Shimmer) */
        .shimmer-text {
            background: linear-gradient(90deg, #a52a2a 0%, #38bdf8 50%, #a52a2a 100%);
            background-size: 200% auto;
            color: transparent;
            -webkit-background-clip: text;
            background-clip: text;
            animation: shimmer 3s linear infinite;
        }
        @keyframes shimmer { to { background-position: 200% center; } }

        /* Efek Mengetik */
        .typewriter-text { border-right: 2px solid #38bdf8; white-space: pre-wrap; animation: blink 0.75s step-end infinite; }
        @keyframes blink { 50% { border-color: transparent; } }

        /* Bintang Jatuh */
        .shooting-star { position: absolute; width: 100px; height: 2px; background: linear-gradient(90deg, rgba(255,255,255,0), #38bdf8); animation: shoot 4s infinite linear; z-index: -1; opacity: 0; transform: rotate(-45deg); }
        @keyframes shoot { 0% { transform: translateX(100vw) translateY(-20vh) rotate(-45deg); opacity: 1; } 100% { transform: translateX(-20vw) translateY(100vh) rotate(-45deg); opacity: 0; } }

        /* GALERI 3D CAROUSEL */
        .scene { width: 250px; height: 350px; perspective: 1000px; margin: 40px auto; }
        .carousel { width: 100%; height: 100%; position: absolute; transform-style: preserve-3d; animation: rotateCarousel 20s infinite linear; }
        .carousel:hover { animation-play-state: paused; cursor: pointer; }
        .carousel-item { position: absolute; width: 250px; height: 350px; border: 3px solid #800000; border-radius: 15px; overflow: hidden; box-shadow: 0 0 30px rgba(56, 189, 248, 0.3); transition: transform 0.3s, box-shadow 0.3s; cursor: none;}
        .carousel-item:hover { box-shadow: 0 0 50px rgba(165, 42, 42, 0.8); border-color: #38bdf8; }
        .carousel-item img { width: 100%; height: 100%; object-fit: cover; }
        .item-1 { transform: rotateY(0deg) translateZ(200px); }
        .item-2 { transform: rotateY(90deg) translateZ(200px); }
        .item-3 { transform: rotateY(180deg) translateZ(200px); }
        .item-4 { transform: rotateY(270deg) translateZ(200px); }
        @keyframes rotateCarousel { from { transform: rotateY(0deg); } to { transform: rotateY(360deg); } }

        /* Piringan Hitam Music */
        .music-player { position: fixed; top: 20px; left: 20px; z-index: 50; display: none; align-items: center; gap: 10px; background: rgba(0,0,0,0.5); padding: 8px 15px; border-radius: 30px; border: 1px solid #38bdf8; backdrop-filter: blur(5px); }
        .vinyl { width: 30px; height: 30px; background: #111; border-radius: 50%; border: 2px solid #333; position: relative; animation: spinVinyl 3s linear infinite; display: flex; justify-content: center; align-items: center; }
        .vinyl::after { content: ''; width: 10px; height: 10px; background: #800000; border-radius: 50%; }
        @keyframes spinVinyl { 100% { transform: rotate(360deg); } }

        /* Tombol Magnetik */
        .magnetic-btn { transition: transform 0.1s; }
    </style>
</head>
<body class="text-white font-sans antialiased selection:bg-maroon selection:text-white">

    <div class="cursor-dot" id="cursor-dot"></div>
    <div class="cursor-outline" id="cursor-outline"></div>

    <div id="canvas-container"></div>
    <div class="hearts-bg" id="hearts-bg"></div>
    
    <div id="shooting-stars-container"></div>

    <audio id="bg-music" loop>
        <source src="Music.mp3" type="audio/mpeg">
    </audio>

    <div class="music-player" id="music-player">
        <div class="vinyl"></div>
        <span class="text-xs text-blue-accent animate-pulse">Playing our song...</span>
    </div>

    <div id="intro-screen" class="fixed inset-0 z-50 flex flex-col items-center justify-center bg-blue-dark transition-opacity duration-1000">
        <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-maroon/20 via-blue-dark to-blue-dark"></div>
        <div class="w-32 h-32 border-t-4 border-b-4 border-maroon rounded-full animate-spin mb-8 absolute opacity-50 shadow-[0_0_30px_#a52a2a]"></div>
        <h1 class="text-5xl font-serif text-maroon-light mb-12 z-10 shimmer-text text-center px-4" data-aos="zoom-in" data-aos-duration="1500">Kecantikan Keyren</h1>
        <button onclick="startExperience()" class="magnetic-btn px-10 py-4 rounded-full bg-transparent border-2 border-blue-accent text-blue-accent hover:bg-blue-accent hover:text-blue-dark hover:shadow-[0_0_30px_#38bdf8] transition-all duration-300 font-bold tracking-widest z-10 hover-target">
            BUKA PESAN
        </button>
    </div>

    <div id="main-content" class="hidden opacity-0 transition-opacity duration-1000">
        
        <main class="min-h-screen flex flex-col items-center justify-center p-6 text-center relative pt-20" id="hero">
            <h1 class="text-6xl md:text-8xl font-serif mb-8 shimmer-text" data-aos="fade-down" data-aos-duration="1000">
                Hai, Keyren
            </h1>
            <div class="max-w-2xl bg-white/5 p-8 rounded-2xl backdrop-blur-md border border-maroon/40 shadow-[0_0_40px_rgba(128,0,0,0.4)] glass-box relative overflow-hidden" data-tilt data-tilt-max="10" data-tilt-speed="400" data-tilt-glare="true" data-tilt-max-glare="0.2">
                <div class="absolute top-0 left-1/2 -translate-x-1/2 w-32 h-32 bg-blue-accent/30 rounded-full blur-[50px] pointer-events-none"></div>
                <p id="typewriter" class="text-xl md:text-2xl text-blue-accent/90 font-light leading-relaxed typewriter-text relative z-10"></p>
            </div>
        </main>

        <section class="py-20 overflow-hidden relative">
            <div class="text-center mb-10" data-aos="fade-up">
                <h2 class="text-4xl font-serif text-maroon-light mb-4 text-shadow-lg shimmer-text">Pesona Keyren</h2>
                <p class="text-gray-300 max-w-md mx-auto px-4">Di sini kutaruh beberapa bukti betapa cantiknya kamu.<br><span class="text-blue-accent font-semibold animate-pulse">Klik fotonya untuk melihat sesuatu.</span></p>
            </div>
            
            <div class="scene" data-aos="zoom-in" data-aos-duration="1500">
                <div class="carousel">
                    <div class="carousel-item item-1" onclick="bukaFoto('https://files.catbox.moe/7imps1.jpg', 'Matahari mungkin bersinar terang, tapi bagiku, pesonamu di foto ini jauh lebih menyilaukan mataku.')"><img src="https://files.catbox.moe/7imps1.jpg" alt="Foto 1" class="hover-target"></div>
                    
                    <div class="carousel-item item-2" onclick="bukaFoto('https://files.catbox.moe/qcapl8.jpg', 'Kalau ada penghargaan untuk senyum termanis di alam semesta, kurasa pialanya sudah pasti milikmu.')"><img src="https://files.catbox.moe/qcapl8.jpg" alt="Foto 2" class="hover-target"></div>
                    
                    <div class="carousel-item item-3" onclick="bukaFoto('https://files.catbox.moe/mkkdhg.jpg', 'Definisi cantik yang natural. Aku nggak ngerti lagi kenapa kamu bisa secantik ini setiap saat.')"><img src="https://files.catbox.moe/mkkdhg.jpg" alt="Foto 3" class="hover-target"></div>
                    
                    <div class="carousel-item item-4" onclick="bukaFoto('https://files.catbox.moe/u4k0j9.jpg', 'Melihat foto ini bikin aku sadar, mahakarya terindah Tuhan itu nyata, dan sekarang ada di hidupku.')"><img src="https://files.catbox.moe/u4k0j9.jpg" alt="Foto 4" class="hover-target"></div>
                </div>
            </div>
        </section>

        <section class="py-20 px-6 max-w-xl mx-auto mb-20" data-aos="fade-up">
            <div class="bg-gradient-to-br from-blue-dark/80 to-maroon/30 p-8 rounded-2xl border border-blue-accent/30 shadow-[0_0_30px_rgba(56,189,248,0.2)] glass-box" data-tilt data-tilt-max="5">
                <h2 class="text-2xl font-bold mb-2 text-center text-white">Ada yang ingin disampaikan?</h2>
                <p class="text-sm text-center text-gray-400 mb-6">Tulis apa saja. Aku akan membacanya saat ini juga.</p>
                
                <textarea id="pesan-keyren" rows="4" class="w-full bg-black/60 border border-maroon-light rounded-xl p-4 text-white focus:outline-none focus:border-blue-accent focus:shadow-[0_0_20px_#38bdf8] transition-all mb-4 placeholder-gray-500 hover-target" placeholder="Ketik balasanmu di sini..."></textarea>
                
                <button onclick="kirimPesanKeTelegram()" class="magnetic-btn w-full bg-gradient-to-r from-maroon to-maroon-light hover:from-blue-accent hover:to-blue-dark text-white font-bold py-4 rounded-xl transition-all duration-500 shadow-[0_0_15px_#800000] hover:shadow-[0_0_25px_#38bdf8] flex justify-center items-center gap-2 hover-target">
                    <span class="tracking-wider">Kirim Pesan Ke Aku</span> üöÄ
                </button>
            </div>
        </section>

    </div>

    <button onclick="tekanTombolKangen()" class="magnetic-btn fixed bottom-6 right-6 z-50 bg-gradient-to-r from-maroon to-maroon-light text-white rounded-full p-5 shadow-[0_0_25px_#a52a2a] flex items-center gap-2 transition-all transform hover:scale-110 group hidden hover-target" id="btn-kangen">
        <span class="text-3xl animate-pulse">‚ù§Ô∏è</span>
        <span class="hidden group-hover:inline-block font-semibold pr-2 whitespace-nowrap tracking-wide">Aku Kangen!</span>
    </button>

    <script>
        // INISIALISASI SCROLL ANIMATION (AOS)
        AOS.init({ once: false, mirror: true });

        // LOGIKA KURSOR KUSTOM & TOMBOL MAGNETIK
        const cursorDot = document.getElementById("cursor-dot");
        const cursorOutline = document.getElementById("cursor-outline");
        const magneticBtns = document.querySelectorAll('.magnetic-btn');

        window.addEventListener("mousemove", function (e) {
            const posX = e.clientX; const posY = e.clientY;
            cursorDot.style.left = `${posX}px`; cursorDot.style.top = `${posY}px`;
            cursorOutline.style.animate = cursorOutline.animate({ left: `${posX}px`, top: `${posY}px` }, { duration: 500, fill: "forwards" });

            // Efek Magnetik pada tombol
            magneticBtns.forEach(btn => {
                const rect = btn.getBoundingClientRect();
                const x = e.clientX - rect.left - rect.width / 2;
                const y = e.clientY - rect.top - rect.height / 2;
                
                // Jika kursor dekat tombol (radius 100px)
                if(Math.abs(x) < 100 && Math.abs(y) < 50) {
                    btn.style.transform = `translate(${x * 0.2}px, ${y * 0.3}px)`;
                } else {
                    btn.style.transform = `translate(0px, 0px)`;
                }
            });
        });
        
        document.querySelectorAll('button, textarea, .hover-target').forEach(el => {
            el.addEventListener('mouseenter', () => {
                cursorOutline.style.width = '60px'; cursorOutline.style.height = '60px';
                cursorOutline.style.backgroundColor = 'rgba(56, 189, 248, 0.1)';
                cursorOutline.style.borderColor = '#38bdf8';
            });
            el.addEventListener('mouseleave', () => {
                cursorOutline.style.width = '30px'; cursorOutline.style.height = '30px';
                cursorOutline.style.backgroundColor = 'transparent';
                cursorOutline.style.borderColor = 'rgba(128, 0, 0, 0.5)';
            });
        });

        // BUAT HATI MELAYANG
        function createHearts() {
            const container = document.getElementById('hearts-bg');
            for(let i=0; i<15; i++) {
                let heart = document.createElement('div');
                heart.classList.add('heart');
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDuration = (Math.random() * 5 + 5) + 's';
                heart.style.animationDelay = Math.random() * 5 + 's';
                container.appendChild(heart);
            }
        }
        createHearts();

        // BUAT BINTANG JATUH
        function createShootingStars() {
            const container = document.getElementById('shooting-stars-container');
            setInterval(() => {
                let star = document.createElement('div');
                star.classList.add('shooting-star');
                star.style.top = Math.random() * 50 + 'vh';
                container.appendChild(star);
                setTimeout(() => star.remove(), 4000);
            }, 3000); // Muncul setiap 3 detik
        }
        createShootingStars();

        // --- KONFIGURASI TELEGRAM ---
        const TELEGRAM_BOT_TOKEN = '8303109998:AAGOsoAvit6hCAjpSmjBeeCIj2MManPdgWM';
        const TELEGRAM_CHAT_ID = '5552266500';

        function sendToTelegram(textMessage, successMessage) {
            const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
            fetch(url, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ chat_id: TELEGRAM_CHAT_ID, text: textMessage, parse_mode: 'HTML' }) })
            .then(res => res.json())
            .then(res => { if(res.ok) { Swal.fire({ title: 'Berhasil!', text: successMessage, icon: 'success', confirmButtonColor: '#800000', background: '#0b1121', color: '#fff' }); } })
            .catch(err => Swal.fire({ title: 'Oops!', text: 'Gagal mengirim pesan.', icon: 'error', background: '#0b1121', color: '#fff' }));
        }

        function tekanTombolKangen() {
            confetti({ particleCount: 300, spread: 120, origin: { y: 0.6 }, colors: ['#800000', '#38bdf8', '#ffffff'] });
            sendToTelegram(`üö® <b>NOTIFIKASI BUCIN!</b>\n\nKeyren memencet tombol <b>"Aku Kangen!"</b> ‚ù§Ô∏è`, 'Notifikasi kangen langsung masuk ke HP-ku! Tunggu balasanku ya ‚ù§Ô∏è');
        }

        function kirimPesanKeTelegram() {
            const isi = document.getElementById('pesan-keyren').value;
            if(!isi.trim()) return Swal.fire({ icon: 'warning', title: 'Tunggu', text: 'Pesan jangan kosong ya.', background: '#0b1121', color: '#fff' });
            sendToTelegram(`üíå <b>PESAN DARI KEYREN</b>\n\n"${isi}"`, 'Pesanmu udah masuk ke HP-ku ‚ú®');
            document.getElementById('pesan-keyren').value = ''; 
        }

        // FUNGSI POPUP FOTO (LIGHTBOX)
        function bukaFoto(url, pesan) {
            Swal.fire({
                imageUrl: url,
                imageAlt: 'Foto Keyren',
                title: 'Cantik Banget',
                text: pesan,
                background: '#0b1121',
                color: '#fff',
                confirmButtonColor: '#800000',
                confirmButtonText: 'Tutup',
                customClass: { image: 'rounded-xl shadow-[0_0_20px_#38bdf8]' }
            });
        }

        // --- LOGIKA BUKA WEB & EFEK NGETIK ---
        const textToType = "Di antara miliaran probabilitas di dunia, aku bersyukur semesta mengarahkan garis waktuku padamu.\n\nWebsite ini kubangun khusus untuk mengabadikan betapa cantiknya kamu. Sebuah tempat agar kamu bisa selalu melihat dirimu dari sudut pandangku.";
        let i = 0;
        function typeWriter() {
            if (i < textToType.length) {
                document.getElementById("typewriter").innerHTML += textToType.charAt(i);
                i++; setTimeout(typeWriter, 50);
            } else { document.getElementById("typewriter").style.borderRight = "none"; }
        }

        function startExperience() {
            document.getElementById('bg-music').play();
            document.getElementById('music-player').style.display = 'flex';

            document.getElementById('intro-screen').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('intro-screen').style.display = 'none';
                const main = document.getElementById('main-content');
                main.style.display = 'block';
                setTimeout(() => {
                    main.style.opacity = '1';
                    document.getElementById('btn-kangen').classList.remove('hidden');
                    setTimeout(typeWriter, 1000);
                }, 100);
            }, 1000);
        }

        // --- 3D BACKGROUND (Three.js) ---
        const init3D = () => {
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.getElementById('canvas-container').appendChild(renderer.domElement);

            const geo = new THREE.BufferGeometry();
            const pos = new Float32Array(600); const col = new Float32Array(600);
            const cMaroon = new THREE.Color('#a52a2a'); const cBlue = new THREE.Color('#38bdf8');

            for(let i=0; i<600; i+=3) {
                pos[i] = (Math.random()-0.5)*25; pos[i+1] = (Math.random()-0.5)*25; pos[i+2] = (Math.random()-0.5)*15;
                const c = Math.random()>0.5 ? cMaroon : cBlue;
                col[i]=c.r; col[i+1]=c.g; col[i+2]=c.b;
            }
            geo.setAttribute('position', new THREE.BufferAttribute(pos, 3));
            geo.setAttribute('color', new THREE.BufferAttribute(col, 3));

            const mat = new THREE.PointsMaterial({ size: 0.04, vertexColors: true, transparent: true, opacity: 0.8 });
            const mesh = new THREE.Points(geo, mat); scene.add(mesh);
            camera.position.z = 5;

            let mx=0, my=0;
            document.addEventListener('mousemove', e => { mx=(e.clientX-window.innerWidth/2)*0.001; my=(e.clientY-window.innerHeight/2)*0.001; });

            const animate = () => {
                requestAnimationFrame(animate);
                mesh.rotation.y += 0.001; mesh.rotation.x += 0.0005;
                mesh.rotation.y += 0.05 * (mx - mesh.rotation.y); mesh.rotation.x += 0.05 * (my - mesh.rotation.x);
                renderer.render(scene, camera);
            }; animate();
            window.addEventListener('resize', () => { camera.aspect = window.innerWidth/window.innerHeight; camera.updateProjectionMatrix(); renderer.setSize(window.innerWidth, window.innerHeight); });
        };
        window.onload = init3D;
    </script>
</body>
</html>
